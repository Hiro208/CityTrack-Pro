export type Language = 'en' | 'zh' | 'es';

export type TranslateFn = (key: string) => string;

const translations: Record<Language, Record<string, string>> = {
  en: {
    transitConsole: 'Transit Console',
    nycNode: 'NYC Real-Time Node',
    language: 'Language',
    lang_en: 'English',
    lang_zh: '中文',
    lang_es: 'Español',
    allActiveLines: 'All Active Lines',
    lineSuffix: 'Line',
    favoriteThisRoute: 'Favorite this route',
    loginRequiredRoute: 'Login required to favorite routes',
    activeVehicles: 'Active Vehicles',
    insightWindow: 'Trend Insights',
    windowAvg: 'Window Avg',
    range15m: 'Last 15m',
    range1h: 'Last 1h',
    range6h: 'Last 6h',
    range24h: 'Last 24h',
    compareNone: 'No Compare',
    comparePrevious: 'Vs Previous Window',
    noComparisonData: 'No previous window data yet',
    vsPrevious: 'vs previous',
    topActiveRoutes: 'Top Active Routes',
    noRouteData: 'No route activity data',
    signedInAs: 'Signed in as',
    signOut: 'Sign out',
    login: 'Login',
    register: 'Register',
    email: 'Email',
    passwordHint: 'Password must be at least 6 characters',
    createAccount: 'Create Account',
    favorites: 'Favorites',
    routes: 'Routes',
    stops: 'Stops',
    noFavoriteRoutes: 'No favorite routes yet',
    noFavoriteStops: 'No favorite stops yet',
    loginToManageFavorites: 'Login to manage favorites',
    notificationCenter: 'Notification Center',
    unread: 'unread',
    markAllRead: 'Mark all as read',
    noNotifications: 'No notifications yet',
    loginToReceiveNotifications: 'Login to receive delay and service-change notifications',
    update: 'UPDATE',
    emailSent: 'Email sent',
    emailPending: 'Email pending',
    createdAt: 'Created at',
    serviceAlert: 'Service Alert',
    noDetails: 'No additional details provided.',
    live: 'LIVE',
    boundFor: 'Bound For',
    currentStop: 'Current Stop',
    inTransit: 'In Transit',
    loginRequiredStop: 'Login required to favorite stops',
    favoriteStop: 'Favorite stop',
    status: 'Status',
    unknown: 'Unknown',
    unknownTerminal: 'Unknown Terminal',
    directionUnknown: 'Direction Unknown',
    northbound: 'Northbound',
    southbound: 'Southbound',
    eastbound: 'Eastbound',
    westbound: 'Westbound',
    stoppedAtStation: 'Stopped At Station',
    arriving: 'Arriving',
    loginFailed: 'Login failed. Check your email/password.',
    registerFailed: 'Registration failed. Email may already exist.',
    expand: 'Expand',
    close: 'Close',
    detailedInsights: 'Detailed Insights',
    trendSummary: 'Trend Summary',
    gettingBusier: 'Busier than the start of window',
    gettingCalmer: 'Calmer than the start of window',
    mostlyStable: 'Mostly stable in this window',
    currentSnapshot: 'Current Snapshot',
    startToNow: 'Start to Now',
    peakValue: 'Peak',
    troughValue: 'Trough',
    volatility: 'Volatility',
    topRouteShare: 'Top Route Share',
    samplePoint: 'Point',
    currentWindow: 'Current Window',
    previousWindow: 'Previous Window',
    anomalyPoints: 'Anomaly Points',
    anomalyHint: 'points far from window mean',
  },
  zh: {
    transitConsole: '交通控制台',
    nycNode: '纽约实时节点',
    language: '语言',
    lang_en: 'English',
    lang_zh: '中文',
    lang_es: 'Español',
    allActiveLines: '全部线路',
    lineSuffix: '号线',
    favoriteThisRoute: '收藏该线路',
    loginRequiredRoute: '登录后可收藏线路',
    activeVehicles: '活跃车辆',
    insightWindow: '趋势洞察',
    windowAvg: '窗口均值',
    range15m: '最近15分钟',
    range1h: '最近1小时',
    range6h: '最近6小时',
    range24h: '最近24小时',
    compareNone: '不对比',
    comparePrevious: '对比上一时间窗',
    noComparisonData: '暂无上一窗口数据',
    vsPrevious: '较上一窗口',
    topActiveRoutes: '线路活跃排行',
    noRouteData: '暂无线路活跃数据',
    signedInAs: '当前登录',
    signOut: '退出登录',
    login: '登录',
    register: '注册',
    email: '邮箱',
    passwordHint: '密码至少6位',
    createAccount: '创建账号',
    favorites: '收藏',
    routes: '线路',
    stops: '站点',
    noFavoriteRoutes: '暂无收藏线路',
    noFavoriteStops: '暂无收藏站点',
    loginToManageFavorites: '登录后可管理收藏',
    notificationCenter: '通知中心',
    unread: '未读',
    markAllRead: '全部标记已读',
    noNotifications: '暂无通知',
    loginToReceiveNotifications: '登录后可接收延误与服务变更通知',
    update: '更新',
    emailSent: '邮件已发送',
    emailPending: '邮件待发送',
    createdAt: '创建时间',
    serviceAlert: '服务告警',
    noDetails: '暂无详细信息。',
    live: '实时',
    boundFor: '开往',
    currentStop: '当前站',
    inTransit: '行进中',
    loginRequiredStop: '登录后可收藏站点',
    favoriteStop: '收藏站点',
    status: '状态',
    unknown: '未知',
    unknownTerminal: '未知终点',
    directionUnknown: '方向未知',
    northbound: '北行',
    southbound: '南行',
    eastbound: '东行',
    westbound: '西行',
    stoppedAtStation: '已到站',
    arriving: '即将到达',
    loginFailed: '登录失败，请检查邮箱和密码。',
    registerFailed: '注册失败，邮箱可能已存在。',
    expand: '放大',
    close: '关闭',
    detailedInsights: '洞察放大视图',
    trendSummary: '趋势总结',
    gettingBusier: '相比窗口起点更繁忙',
    gettingCalmer: '相比窗口起点更空闲',
    mostlyStable: '该时间窗整体较稳定',
    currentSnapshot: '当前快照',
    startToNow: '起点到当前',
    peakValue: '峰值',
    troughValue: '低谷',
    volatility: '波动强度',
    topRouteShare: 'Top线路占比',
    samplePoint: '采样点',
    currentWindow: '当前窗口',
    previousWindow: '上一窗口',
    anomalyPoints: '异常点数量',
    anomalyHint: '偏离窗口均值较大的点',
  },
  es: {
    transitConsole: 'Consola de Tránsito',
    nycNode: 'Nodo en Tiempo Real NYC',
    language: 'Idioma',
    lang_en: 'English',
    lang_zh: '中文',
    lang_es: 'Español',
    allActiveLines: 'Todas las líneas activas',
    lineSuffix: 'Línea',
    favoriteThisRoute: 'Marcar ruta favorita',
    loginRequiredRoute: 'Inicia sesión para marcar rutas',
    activeVehicles: 'Vehículos activos',
    insightWindow: 'Tendencia',
    windowAvg: 'Promedio',
    range15m: 'Ultimos 15 min',
    range1h: 'Ultima 1 h',
    range6h: 'Ultimas 6 h',
    range24h: 'Ultimas 24 h',
    compareNone: 'Sin comparacion',
    comparePrevious: 'Comparar ventana anterior',
    noComparisonData: 'Sin datos de la ventana anterior',
    vsPrevious: 'vs anterior',
    topActiveRoutes: 'Rutas mas activas',
    noRouteData: 'Sin datos de actividad por ruta',
    signedInAs: 'Sesión iniciada',
    signOut: 'Cerrar sesión',
    login: 'Iniciar sesión',
    register: 'Registrarse',
    email: 'Correo',
    passwordHint: 'La contrasena debe tener al menos 6 caracteres',
    createAccount: 'Crear cuenta',
    favorites: 'Favoritos',
    routes: 'Rutas',
    stops: 'Paradas',
    noFavoriteRoutes: 'Sin rutas favoritas',
    noFavoriteStops: 'Sin paradas favoritas',
    loginToManageFavorites: 'Inicia sesión para gestionar favoritos',
    notificationCenter: 'Centro de Notificaciones',
    unread: 'sin leer',
    markAllRead: 'Marcar todo como leído',
    noNotifications: 'Sin notificaciones',
    loginToReceiveNotifications: 'Inicia sesión para recibir alertas y cambios de servicio',
    update: 'ACTUALIZACIÓN',
    emailSent: 'Correo enviado',
    emailPending: 'Correo pendiente',
    createdAt: 'Creado',
    serviceAlert: 'Alerta de Servicio',
    noDetails: 'No hay detalles adicionales.',
    live: 'EN VIVO',
    boundFor: 'Hacia',
    currentStop: 'Parada actual',
    inTransit: 'En tránsito',
    loginRequiredStop: 'Inicia sesión para marcar paradas',
    favoriteStop: 'Marcar parada favorita',
    status: 'Estado',
    unknown: 'Desconocido',
    unknownTerminal: 'Terminal desconocida',
    directionUnknown: 'Dirección desconocida',
    northbound: 'Sentido norte',
    southbound: 'Sentido sur',
    eastbound: 'Sentido este',
    westbound: 'Sentido oeste',
    stoppedAtStation: 'Detenido en estación',
    arriving: 'Llegando',
    loginFailed: 'Error de inicio de sesión. Revisa correo/contraseña.',
    registerFailed: 'Error de registro. Puede que el correo ya exista.',
    expand: 'Expandir',
    close: 'Cerrar',
    detailedInsights: 'Vista detallada',
    trendSummary: 'Resumen de tendencia',
    gettingBusier: 'Mas activo que al inicio de la ventana',
    gettingCalmer: 'Menos activo que al inicio de la ventana',
    mostlyStable: 'Bastante estable en esta ventana',
    currentSnapshot: 'Valor actual',
    startToNow: 'Inicio a ahora',
    peakValue: 'Pico',
    troughValue: 'Minimo',
    volatility: 'Volatilidad',
    topRouteShare: 'Participacion ruta top',
    samplePoint: 'Punto',
    currentWindow: 'Ventana actual',
    previousWindow: 'Ventana previa',
    anomalyPoints: 'Puntos anomalos',
    anomalyHint: 'puntos alejados de la media',
  },
};

export const createTranslator = (language: Language): TranslateFn => {
  const table = translations[language] || translations.en;
  return (key: string) => table[key] || translations.en[key] || key;
};

